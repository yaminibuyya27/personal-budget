<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- This is an SEO Change 1-->
     <!-- Changed the author name -->
    <meta name="author" content="Yamini Buyya">
    <title>Personal Budget</title>
    <!-- This is an SEO Change 2-->
     <!-- Given the fav icon for the HTML Page -->
    <link rel="icon" href="./favicon.ico" type="image/x-icon">

    <!-- Updated the content of the description -->
    <meta name="description" content="A free personal budget Management app">
    <!-- This is SEO Change 3 -->
     <!-- Updated the content of keywords -->
    <meta name="keywords" content="Budget App, HTMl, CSS, SEO, Accessibility">
    <!-- This is SEO Change 4 -->
     <!-- Search engine to crawl the page -->
    <meta name="robots" content="index, follow">
    <!-- Added ./ to access css files -->
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./main.css">
</head>
<body>

<a href="#main" class="skip">Skip to content</a>

    <!-- This is Semantic HTMl Change 1 -->
     <!-- Given aria-label to nav tag -->
    <nav aria-label="Primary Navigation">
        <ul>
            <!-- Fix home link to index.html -->
            <li><a href="./index.html">Home</a></li>
            <!-- Added . to access about and login html pages -->
            <li><a href="./about.html">About</a></li>
            <li><a href="./login.html">Login</a></li>
            <li><a href="https://google.com">Google</a></li>
        </ul>
    </nav>

    <!-- This is A11y Change 1 -->
     <!-- Given tabindex for keyboard focusable -->
    <div class="hero" tabindex="0">
        <!-- This is Semantic HTML Change 2 -->
         <!-- Given header tag -->
        <!--  This is A11y Change 2 -->
          <!-- Given role for the header -->
        <header role="banner">
            <h1>Personal Budget</h1>
            <h2>A personal-budget management app</h2>
        </header>
    </div>

    <main class="center" id="main">

        <div class="page-area">
            <!-- This is Semantic HTMl Change 3 -->
             <!-- Grouped all articles into one section -->
            <section aria-labelledby="features">
                <article>
                <h1>Stay on track</h1>
                <p>
                    Do you know where you are spending your money? If you really stop to track it down,
                    you would get surprised! Proper budget management depends on real data... and this
                    app will help you with that!
                </p>
            </article>
    
            <article>
                <h1>Alerts</h1>
                <p>
                    What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.
                </p>
            </article>
    
            <article>
                <h1>Results</h1>
                <p>
                    People who stick to a financial plan, budgeting every expense, get out of debt faster!
                    Also, they to live happier lives... since they expend without guilt or fear... 
                    because they know it is all good and accounted for.
                </p>
            </article>
    
            <article>
                <h1>Free</h1>
                <p>
                    This app is free!!! And you are the only one holding your data!
                </p>
            </article>
    
            <article>
                <h1>Stay on track</h1>
                <p>
                    Do you know where you are spending your money? If you really stop to track it down,
                    you would get surprised! Proper budget management depends on real data... and this
                    app will help you with that!
                </p>
            </article>
    
            <article>
                <h1>Alerts</h1>
                <p>
                    What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.
                </p>
            </article>
    
            <article>
                <h1>Results</h1>
                <p>
                    People who stick to a financial plan, budgeting every expense, get out of debt faster!
                    Also, they to live happier lives... since they expend without guilt or fear... 
                    because they know it is all good and accounted for.
                </p>
            </article>
    
            <article>
                <h1>Chart</h1>
                <p>
                    <canvas id="myChart" width="400" height="400"></canvas>
                </p>
            </article>
            </section>

        </div>

    </main>

    <footer class="bottom">
        <!-- This is Semantic HTML Change 4 -->
         <!-- Changed div to section -->
        <section class="center">
            All rights reserved &copy; Yamini Buyya
            <a href="https://github.com/yaminibuyya27/personal-budget" target="_blank">
                <!-- This is A11y Change 3 -->
                <!-- clicking the icon takes the user to the source code of personal budget application -->
                <img class="githublogo" src="./git_hub_icon.png" alt="Source" />
            </a>
        </section>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>

    <script>
        var dataSource = {
                datasets: [
                    {
                        data: [],
                        backgroundColor: [
                            '#ffcd56',
                            '#ff6384',
                            '#36a2eb',
                            '#fd6b19',
                        ]
                    }
                ],
                labels: []
            };

        function createChart() {
            var ctx = document.getElementById('myChart').getContext('2d');
            var myPieChart = new Chart(ctx, {
                type: 'pie',
                data: dataSource
            });
        }

        function getBudget() {
            axios.get('http://localhost:3000/budget')
            .then(function (res) {
                for (var i = 0; i < res.data.myBudget.length; i++) {
                    dataSource.datasets[0].data[i] = res.data.myBudget[i].budget;
                    dataSource.labels[i] = res.data.myBudget[i].title;
                    createChart();
                }
            });
        }

        getBudget();
    </script>

</body>
</html>